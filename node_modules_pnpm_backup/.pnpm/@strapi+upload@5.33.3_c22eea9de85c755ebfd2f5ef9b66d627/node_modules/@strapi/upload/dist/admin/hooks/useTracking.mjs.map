{"version":3,"file":"useTracking.mjs","sources":["../../../admin/src/hooks/useTracking.ts"],"sourcesContent":["import { useTracking as useStrapiTracking, TrackingEvent } from '@strapi/admin/strapi-admin';\nimport { useAIAvailability } from '@strapi/admin/strapi-admin/ee';\n\nimport { useSettings } from '../hooks/useSettings';\n\nexport const useTracking = () => {\n  const { trackUsage: trackStrapiUsage } = useStrapiTracking();\n  const { data } = useSettings();\n  const isAiAvailable = useAIAvailability();\n\n  const trackUsage = <TEvent extends TrackingEvent>(\n    event: TEvent['name'],\n    properties?: TEvent['properties']\n  ) => {\n    return trackStrapiUsage(event, {\n      ...properties,\n      ...(isAiAvailable ? { isAIMediaLibraryConfigured: Boolean(data?.aiMetadata) } : {}),\n    } as TEvent['properties']);\n  };\n\n  return { trackUsage };\n};\n"],"names":["useTracking","trackUsage","trackStrapiUsage","useStrapiTracking","data","useSettings","isAiAvailable","useAIAvailability","event","properties","isAIMediaLibraryConfigured","Boolean","aiMetadata"],"mappings":";;;;MAKaA,WAAc,GAAA,IAAA;AACzB,IAAA,MAAM,EAAEC,UAAAA,EAAYC,gBAAgB,EAAE,GAAGC,aAAAA,EAAAA;IACzC,MAAM,EAAEC,IAAI,EAAE,GAAGC,WAAAA,EAAAA;AACjB,IAAA,MAAMC,aAAgBC,GAAAA,iBAAAA,EAAAA;IAEtB,MAAMN,UAAAA,GAAa,CACjBO,KACAC,EAAAA,UAAAA,GAAAA;AAEA,QAAA,OAAOP,iBAAiBM,KAAO,EAAA;AAC7B,YAAA,GAAGC,UAAU;AACb,YAAA,GAAIH,aAAgB,GAAA;AAAEI,gBAAAA,0BAAAA,EAA4BC,QAAQP,IAAMQ,EAAAA,UAAAA;AAAY,aAAA,GAAI;AAClF,SAAA,CAAA;AACF,KAAA;IAEA,OAAO;AAAEX,QAAAA;AAAW,KAAA;AACtB;;;;"}